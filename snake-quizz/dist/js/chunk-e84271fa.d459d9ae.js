(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e84271fa"],{1954:function(t,e,s){"use strict";s("d927")},2117:function(t,e,s){},"498a":function(t,e,s){"use strict";var a=s("23e7"),r=s("58a8").trim,n=s("c8d2");a({target:"String",proto:!0,forced:n("trim")},{trim:function(){return r(this)}})},"5e89":function(t,e,s){var a=s("861d"),r=Math.floor;t.exports=function(t){return!a(t)&&isFinite(t)&&r(t)===t}},"7db0":function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").find,n=s("44d2"),i=s("ae40"),o="find",c=!0,l=i(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},"8ba4":function(t,e,s){var a=s("23e7"),r=s("5e89");a({target:"Number",stat:!0},{isInteger:r})},"931a":function(t,e,s){},9552:function(t,e,s){"use strict";s("931a")},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),n=s("e8b5"),i=s("861d"),o=s("7b0b"),c=s("50c4"),l=s("8418"),u=s("65f0"),h=s("1dde"),f=s("b622"),d=s("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",y=d>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=h("concat"),$=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},w=!y||!g;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,s,a,r,n,i=o(this),h=u(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?i:arguments[e],$(n)){if(r=c(n.length),f+r>m)throw TypeError(v);for(s=0;s<r;s++,f++)s in n&&l(h,f,n[s])}else{if(f>=m)throw TypeError(v);l(h,f++,n)}return h.length=f,h}})},b80e:function(t,e,s){},bb51:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("stack",{staticClass:"stack"}),s("game-board",{staticClass:"game",on:{changeTurn:function(e){return t.displayNewAlert()}}}),s("section",{staticClass:"team",style:"--color:"+t.color},[s("div",[s("p",[t._v("Team")]),s("h2",[t._v(t._s(t.$store.state.users[t.$store.state.users.length-1])+" team")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.timeDown,expression:"timeDown"}],staticClass:"alert"},[s("p",[t._v("It's up to the "),s("strong",[t._v(t._s(t.$store.state.playerTurn)+" team")]),t._v(" to play !")])])],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Questions stack")]),s("span",[s("span",{style:t.height,attrs:{id:"currentStack"}})])])},i=[],o=(s("99af"),{name:"Stack",computed:{height:function(){return"\n            height: ".concat(this.$store.state.currentStack/this.$store.state.totalStack*100,"%;\n            background: ").concat(this.$store.state.players[this.$store.state.playerTurn].color,"\n            ")}}}),c=o,l=(s("1954"),s("2877")),u=Object(l["a"])(c,n,i,!1,null,"50cd9acb",null),h=u.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gameboard",style:t.params},[t._l(t.max,(function(t){return s("v-case",{key:t,attrs:{id:"case-"+t}})})),t._l(t.getUsers,(function(e){return s("div",{key:e,staticClass:"pawn",class:e==t.$store.state.playerTurn?e!=t.$store.state.me||t.$store.state.move?"active":"active me":"",style:t.pawnStyle,attrs:{id:e},on:{click:function(s){return t.wantToPlay(e)}}})})),t._l(t.highlights,(function(e,a){return s("div",{key:t.upToMove?"highlight-"+a:"hightlight-"+a+"-null",staticClass:"hightlight-overlay",style:e.style,on:{click:function(s){return t.moveToCase(e.target)}}})}))],2)},d=[],p=(s("4de4"),s("7db0"),s("4160"),s("a630"),s("caad"),s("a9e3"),s("8ba4"),s("ac1f"),s("2532"),s("3ca3"),s("1276"),s("498a"),s("159b"),s("b85c")),m=s("5530"),v=s("2f62"),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" case none",style:"--color:"+t.color})},g=[],$={name:"Case",data:function(){return{color:"white"}},watch:{color:function(t,e){console.log("cooooooool"),console.log(t)}}},w=$,b=(s("d09e"),Object(l["a"])(w,y,g,!1,null,"4ace2383",null)),T=b.exports,C={name:"Gameboard",components:{"v-case":T},data:function(){return{maxCases:20,sizeCase:30,max:400,pawns:[],highlights:[],upToMove:!1}},computed:Object(m["a"])(Object(m["a"])({},Object(v["c"])(["getUsers","getMove","getPlayerTurn"])),{},{params:function(){var t="";return t+="grid-template-columns: repeat(".concat(this.maxCases,", ").concat(this.sizeCase,"px);"),t+="grid-auto-rows: ".concat(this.sizeCase,"px;"),t},pawnStyle:function(){var t="\n            width: ".concat(3*this.sizeCase/4,"px;\n            height: ").concat(3*this.sizeCase/4,"px;\n            border-radius: ").concat(this.sizeCase,"px;\n        ");return t}}),methods:Object(m["a"])(Object(m["a"])({},Object(v["b"])({setPlayerPos:"setPlayerPos",movePawn:"movePawn",winCase:"winCase",generateStartCases:"generateStartCases",switchTurn:"switchTurn"})),{},{moveToCase:function(t){var e=this,s=this.pawns.find((function(t){return t.id==e.$store.state.playerTurn}));if(this.placePawn(s,t),this.setPlayerPos({user:s.id,pos:t.$el.id}),this.movePawn(),this.upToMove=!1,this.highlights=[],this.$store.state.playerTurn.trim()!==this.$store.state.me){var a=Math.random()>.5;if(a&&(this.switchTurn(),console.log(this.$store.state.playerTurn),this.upToMove=!1,this.highlights=[],this.$emit("changeTurn")),this.$store.state.playerTurn.trim()!==this.$store.state.me){var r=this.pawns.find((function(t){return t.id==e.$store.state.playerTurn})),n=Math.random()<.25?-1:Math.random()>.25&&Math.random()>.5?1:Math.random()>.5&&Math.random()>.75?-20:20,i=parseInt(this.$store.state.players[r.id].pawnPos.split("-")[1])+n;i<0||(i>this.max*this.max?i=this.max*this.max-1:Number.isInteger(i/20)?i--:Number.isInteger((i-1)/20)&&i++);var o=Array.from(this.$children).find((function(t){return t.$el.id=="case-"+i}));setTimeout((function(){e.moveToCase(o)}),1e3)}}},displayTerritories:function(){var t=this;for(var e in this.$store.state.players){var s,a=Object(p["a"])(this.$store.state.players[e].cases);try{var r=function(){var a=s.value,r=Array.from(t.$children).find((function(t){return t.$el.id==a}));r.$el.style.background=t.$store.state.players[e].color};for(a.s();!(s=a.n()).done;)r()}catch(n){a.e(n)}finally{a.f()}}},genereate:function(){var t=this;if(null==this.$store.state.players[this.$store.state.me].pawnPos)for(var e=0;e<this.getUsers.length;e++){var s=this.getUsers[e],a=Math.floor(this.max/(this.getUsers.length+2.5)*(e+1));this.setPlayerPos({user:s,pos:this.$el.children[a].id}),this.$store.state.players[s].cases.length<=1&&this.generateStartCases({user:s})}this.pawns=Array.from(this.$el.children).filter((function(t){return Array.from(t.classList).includes("pawn")}));var r,n=Object(p["a"])(this.pawns);try{var i=function(){var e=r.value;e.style.background=t.$store.state.players[e.id].color;var s=Array.from(t.$children).find((function(s){return s.$el.id==t.$store.state.players[e.id].pawnPos}));s.$el.style.background=t.$store.state.players[e.id].color,t.placePawn(e,s)};for(n.s();!(r=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}},placePawn:function(t,e){t.style.top=e.$el.offsetTop+this.sizeCase/8+"px",t.style.left=e.$el.offsetLeft+this.sizeCase/8+"px",this.winCase({user:t.id,square:e.$el.id}),this.displayTerritories()},wantToPlay:function(t){this.$store.state.playerTurn!=this.$store.state.me||t!=this.$store.state.me||this.$store.state.move||this.$router.push("/quizz")},highlightCases:function(t){var e=this,s=this.$store.state.players[t].pawnPos.split("-")[1],a=Array.from(this.$children).filter((function(t){return["case-".concat(parseInt(s)+1),"case-".concat(parseInt(s)-1),"case-".concat(parseInt(s)+e.maxCases),"case-".concat(parseInt(s)-e.maxCases)].includes(t.$el.id)}));Array.from(a).forEach((function(t){Number.isInteger((parseInt(t.$el.id.split("-"))-1)/20)||e.highlights.push({target:t,style:"\n              width: ".concat(e.sizeCase,"px;\n              height: ").concat(e.sizeCase,"px;\n              background: ").concat(e.$store.state.players[e.getPlayerTurn].color,";\n              opacity: .5;\n              position:absolute;\n              top: ").concat(t.$el.offsetTop,"px;\n              left: ").concat(t.$el.offsetLeft,"px;\n              z-index:10;\n            ")})}))}}),mounted:function(){this.genereate(),this.displayTerritories(),this.$store.state.move&&this.$store.state.playerTurn==this.$store.state.me&&(this.highlightCases(this.$store.state.playerTurn),this.upToMove=!this.upToMove)}},x=C,P=(s("9552"),Object(l["a"])(x,f,d,!1,null,null,null)),k=P.exports,_={name:"Home",components:{stack:h,"game-board":k},data:function(){return{color:"rgb(233, 78, 109)",timeDown:!0}},computed:{notMyTurn:function(){return"me"!=this.$store.state.playerTurn}},methods:{displayNewAlert:function(){var t=this;this.timeDown=!0,setTimeout((function(){return t.timeDown=!1}),2500)}},mounted:function(){var t=this;this.color=this.$store.state.players[this.$store.state.me].color,setTimeout((function(){return t.timeDown=!1}),1e3)}},M=_,z=(s("d5a6"),Object(l["a"])(M,a,r,!1,null,"e53ac304",null));e["default"]=z.exports},c8d2:function(t,e,s){var a=s("d039"),r=s("5899"),n="​᠎";t.exports=function(t){return a((function(){return!!r[t]()||n[t]()!=n||r[t].name!==t}))}},d09e:function(t,e,s){"use strict";s("b80e")},d5a6:function(t,e,s){"use strict";s("2117")},d927:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e84271fa.d459d9ae.js.map